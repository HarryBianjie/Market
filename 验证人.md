# IRISnet 验证人常见问题

## 什么是IRISnet验证人和验证人节点

IRISnet 是一个基于 [Tendermint](https://cosmos.network/docs/introduction/tendermint.html) 的PoS 区块链网络，验证人是网络的核心部分，验证人的主要任务是**运行并保障验证人节点稳定、安全运行**，而验证节点构成了IRISnent的网络主干。IRISnet预计将有100个验证人节点，所有的全节点中持有（包括受委托）的抵押通证最多的100个全节点将被选为验证节点。验证节点的主要工作包括： 
 - 完成交易的验证打包，用私钥对区块进行共识投票；
 - 参与网络治理，对社区提案进行投票；
 - 接受IRIS通证持有人的委托，抵押委托人的代币用做共识投票的权益证明，并与委托人分享所获得的收益；
 - 及时升级软件，保障IRISnet的持续成长

 简而言之，IRISnet 网络的验证人所起的作用类似与PoW网络的矿工，
 
 ## 验证人的权益和责任
 IRISnet网络的验证人所起的作用类似与PoW网络的矿工，验证人通过运行验证人节点参与网络共识出块，并获得通证收益，这个过程就类似于PoW网络的挖矿。验证人可以获得收益有以下2种：
 
- **交易奖励** 
IRIS网络中的验证人为了维护自己节点的安全性和网络的正常运行，付出了不小的成本。因此，在IRIS网络中的各种交易都需要支付一定的手续费。手续费的多少取决于每种交易的手续费[上限 (fee)](https://www.irisnet.org/docs/zh/features/basic-concepts/fee.html#fee)和[交易所使用的资源 (Gas) ](https://www.irisnet.org/docs/zh/features/basic-concepts/fee.html#gas)。
- **通胀奖励**
IRISnet是基于Tendermint的PoS网络，验证人在网络共识中的投票权取决于验证人（包括受委托）[抵押通证（IRIS）的数量及时间](https://www.irisnet.org/docs/zh/features/stake.html#%E4%BB%8B%E7%BB%8D)，另一方法网络中抵押的通证数量越多，攻击网络所需的成本也越大，网络也越安全。为了维护验证人及其委托人抵押通证的价值，IRISnet设定通过通胀增发通证，来激励验证人及所有IRIS通证持有人将通证抵押，提高网络安全。
其次，通胀也是对验证人投入出块工作的奖励。IRISnet不同于PoW网络，IRISnet的区块产生不是由算力竞争的优胜者但对获得，而是所有验证人和委托人共享，出块的奖励就来自与通胀，并且[定时发放](https://www.irisnet.org/docs/zh/features/mint.html#%E5%8C%BA%E5%9D%97%E6%97%B6%E9%97%B4)。 
最后，通胀出的通胀率也是社区对[IRIS通证抵押率的调节器](https://www.irisnet.org/docs/zh/features/mint.html#%E9%80%9A%E8%83%80%E7%8E%87)，当通证的抵押率高的时候，通胀就小，以保障抵押通证不会因为通胀而贬值；当抵押率低的时候，通胀就会大，使流通的通证由于总量增加而贬值，促使通证持有人转而委托抵押通证。在IRISnet启动之初，IRIS通证大部分都处于锁仓状态，因此IRISnet在第一年将通胀设定在4%， 后期可以通过社区提案的形式通过在线治理投票调整。

验证人在获得收益的同时，也必然要履行相应的义务，如果验证人出现双签，不在线或者不投票的情况，都将受到相应的惩罚，包括抵押的通证被核销，取消验证人资格并被标记为关押（无验证人候选资格）。 

-   **双签**：如果某人反馈在A链上，一个验证人在相同高度签署了两个区块，这个验证人会被A链处罚。
-   **不在线**： 如果一个验证人的签名没有被最近的X个区块包含，对该验证人会按与X成比例的最低额度来处罚。如果X高于某个限制Y，这个验证人会被关押。
-   **不投票**： 如果一个验证人没有对某个提议投票表决，一旦被某个人举报，他的抵押权益会受到少量削减。

## 全节点与验证人节点
- **全节点**
全节点即是一个具备完全功能的IRISnet 节点，需要[安装完整的IRIShub软件](https://www.irisnet.org/docs/zh/get-started/Install-the-Software.html)，并完成相应的[配置](https://www.irisnet.org/docs/zh/get-started/Full-Node.html)。全节点。全节点具有以下特点： 
--- 投票权重为零；
--- 保存完整的交易账本；
--- 可以作为候选验证人节点。 

- **验证人节点**
验证人节点首先是一个IRIShub全节点，并且[完成验证人节点升级和通证抵押](https://www.irisnet.org/docs/zh/get-started/Validator-Node.html)，那么它就是一个真正的验证人节点，可履行验证人的义务，享受验证人的权利。验证人节点在网络中的话语权（即收益权）取决于验证人节点抵押（绑定）的通证数量，即[投票权重](https://www.irisnet.org/docs/zh/features/stake.html#%E4%BB%8B%E7%BB%8D)。 考虑到Tendermint的共识效率，IRISnet目前设定最多100个验证人。 

- **候选验证人节点**
候选验证人节点也验证人的数量不能无限增加。太多验证人可能会导致低效的共识，从而降低区块链吞吐率。因此，拜占庭容错的POS区块链网络都有验证人数量上限。IRISnet设定上限是100。如果有超过100个全节点申请加入验证人集，那么只有具有抵押通证数量排名前100的节点才能成为真正的验证人，其他人将是候选验证人，并将根据他们抵押通证的数量进行降序排序。一旦一个或多个验证人被从验证人集中踢出，则顶部候选验证人将被自动添加到验证人集中。

## 通证抵押绑定，解绑和解绑期
验证人节点的所有者必须将他们自己流通的token绑定到自己的验证人节点。验证人节点[投票权重](https://www.irisnet.org/docs/zh/features/stake.html#%E4%BB%8B%E7%BB%8D)与绑定的token数量成正比，包括所有者自己绑定的token和来自其他委托人的token。验证人节点的所有者可以通过发送解绑交易来降低他们自己绑定的token。委托人同样可以通过发送解绑交易来降低绑定的token。但是，这些被解绑的token不会立即成为流通的token。执行解绑交易之后，在解绑期结束之前，相应的验证人节点的所有者或委托人不能再次在相同的验证人节点上发起解绑交易。通常，**解绑期为三周**。一旦解绑期结束，被解绑的token将自动成为流通的token。解绑期机制对PoS区块链网络的安全性很重要。此外，如果验证人节点的所有者在自己的验证人节点上没有绑定通证，则相应的验证人会被踢出验证人集。

## 验证人与委托人
IRISnet是基于Tendmint的PoS网络，网络抵押的通证数量对于网络安全有着重要的影响，理想的抵押比例是67%。为了鼓励所有IRIS通证的持有人抵押通证，IRISnet允许不能或不想允许验证人节点的IRIS通证持有人将通证委托给验证人，通过验证节点抵押获得交易及通胀收益。将通证委托给验证人的通证持有人即称为委托人。委托人具有以下特点： 
-   委托人和受委托验证人具有连带责任关系。即被委托的验证人如果因作恶或者未完全履行其职责而遭到系统处罚时，委托人也将同时受到处罚。
-   委托人向受委托验证人交付的通证将被绑定在该验证人的抵押池中直至委托关系解除，被抵押通证不可流通。
-   委托人解除委托关系后，所抵押的通证在3周后才能解绑上市流通。
- 委托人委托给验证人通证按照所占验证人全部抵押通证的比例分享收益，但需要像验证人支付一定的管理费，通常是总收益的10%。 
- 委托人可以随时更换受委托验证人，当更换验证人时，委托人抵押的通证可直接转入新的受委托人抵押池，而不无需等待3周的解绑期。
-   委托人通过抵押获得的收益部分可以自主管理，且具有流通性

## 委托人节点的要求
**硬件**
IRIS Hub是用Go语言编写的。它可以在任何能够编译并运行Go语言程序的平台上工作。然而，我强烈建议在Linux服务器上运行验证人节点。我曾经尝试在Windows上运行验证人节点。我能够顺利的编译但是在运行的时候会有一些问题。接下来的说明和指导都是基于Linux服务器的。 这是我们推荐的服务器的配置：

-   CPU核数：2
-   内存容量：2GB
-   磁盘空间：40GB
-   操作系统：Ubuntu 18.04 LTS/16.04 LTS
-   允许的入方向的链接：TCP端口 26656 和 26657

**软件**

- 方法一：下载发行安装： 
	- 下载并安装可执行文件包： [http://www.irisnet.org](http://www.irisnet.org/docs/zh/get-started/Install-the-Software.html#%E6%96%B9%E6%B3%951%EF%BC%9A%E4%B8%8B%E8%BD%BD%E5%8F%91%E8%A1%8C%E7%89%88%E5%AE%89%E8%A3%85)
- 方法二：编译源码安装： 
	- Go 1.10+      https://golang.org/doc/install
	- Ubuntu LTS 16.04  1.  https://github.com/golang/go/wiki/Ubuntu
	- [IRIShub](http://www.irisnet.org/docs/zh/get-started/Install-the-Software.html#%E6%96%B9%E6%B3%952%EF%BC%9A%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85) 

**通证及钱包**

- Rainbow 钱包 https://www.rainbow.one
- IRIS通证：测试网可以通过[水龙头](https://www.irisnet.org/docs/zh/get-started/Validator-Node.html#%E8%8E%B7%E5%BE%97iris%E4%BB%A3%E5%B8%81)获得；[主网上线](https://www.irisnet.org/mainnet?lang=CN)后IRIS基金会将开展空投，提供验证人私募等活动帮助验证人获得IRIS通证。同时，验证人也可通过Rainbow钱包及验证人推广后动吸引委托人参与。

**其他**

为了保障验证人节点安全，稳定的持续工作；提高自身形象，以便获得跟多委托人信任，增加自身的投票权重，委托人节点还可以： 

 - 公布安全审计结果
 - 建立并公布相应的财务审计流程
 - 设立自己的验证人网站向委托人提供更加透明的信息，树立一个可信的受托人形象。

## IRISnet 测试网与主网

**IRISnet测试网 - Fuxi** 
IRISnet在开发测试阶段建立的测试网取名伏羲（Fuxi），伏羲测试网现在已经迭代到Fuxi-8000，并进入主网前的最后测试阶段。有意愿成为验证人的伙伴现在就可以加入Fuxi测试网熟悉IRISnet，IRIS基金会也会在主网上线后向参与和完成测试任务的验证人提供奖励，具体信息可以到[测试网主页查询](https://www.irisnet.org/testnets)。 伏羲测试网在主网上线后将与主网平行运行，在功能上保持与主网一致，用以试运行主网的新功能，和为用户提供一个体验、测试平台。 

**IRISnet主网**
IRISnet主网将在2019年2月中旬启动，主网启动的相关信息将在[IRIS基金会官网](https://www.irisnet.org/mainnet?lang=CN)更新。 






 

 





 

